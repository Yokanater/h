
{% extends "base.html" %}

{% block content %}
<div class="fade-in">
    <div class="section-header">
        <div>
            <h2 class="section-title">Workspaces</h2>
            <p class="section-desc">Manage your collections.</p>
        </div>
        <button class="btn-primary-small" data-bs-toggle="modal" data-bs-target="#newWorkspaceModal">
            Create New
        </button>
    </div>

    {% if workspaces|length == 0 %}
    <div class="zero-state">
        <p>No workspaces found. Initialize one to begin.</p>
    </div>
    {% else %}
    <div class="workspace-grid">
        {% for workspace in workspaces %}
        <a href="{{ url_for('view_workspace', id=workspace.id) }}" class="workspace-card">
            <h3 class="workspace-title">{{ workspace.name }}</h3>
            <p class="workspace-desc">{{ workspace.description }}</p>
            <div class="workspace-open">
                Open Workspace &rarr;
            </div>
        </a>
        {% endfor %}
    </div>
    {% endif %}
</div>

<!-- NEW WORKSPACE MODAL -->
<div class="modal fade" id="newWorkspaceModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content modal-stash">
      <div class="modal-header modal-stash-header">
        <h5 class="modal-title">New Workspace</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <form method="post" action="{{ url_for('new_workspace') }}">
        <div class="modal-body modal-stash-body">
          <div class="form-group">
            <label class="form-label">Name</label>
            <input type="text" name="name" class="input-field" required autocomplete="off" placeholder="e.g. Project Alpha">
          </div>

          <div class="form-group">
            <label class="form-label">Description</label>
            <input type="text" name="description" class="input-field" autocomplete="off" placeholder="Optional brief">
          </div>
        </div>

        <div class="modal-footer modal-stash-footer">
          <button type="button" class="btn-secondary-small" data-bs-dismiss="modal">Cancel</button>
          <button type="submit" class="btn-primary-small">Create Workspace</button>
        </div>
      </form>
    </div>
  </div>
</div>
{% endblock %}
